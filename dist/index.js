"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _fs = require("fs");

var _axios = _interopRequireDefault(require("axios"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const createFilenameByUrl = url => {
  const parts = url.replace(/[^A-Za-zА-Яа-яЁё]/g, '-').split('-').slice(3);
  const filename = parts.reduce((acc, item) => acc === '' ? `${item}` : `${acc}-${item}`, '');
  return `${filename}.html`;
};

const load = (url, destionationFolder) => {
  return _axios.default.get(url).then(response => {
    _fs.promises.writeFile(`${destionationFolder}/${createFilenameByUrl(url)}`, response.data, 'utf-8');
  }).catch(error => console.log(error));
};

var _default = load;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVGaWxlbmFtZUJ5VXJsIiwidXJsIiwicGFydHMiLCJyZXBsYWNlIiwic3BsaXQiLCJzbGljZSIsImZpbGVuYW1lIiwicmVkdWNlIiwiYWNjIiwiaXRlbSIsImxvYWQiLCJkZXN0aW9uYXRpb25Gb2xkZXIiLCJheGlvcyIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsImZzIiwid3JpdGVGaWxlIiwiZGF0YSIsImNhdGNoIiwiZXJyb3IiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUE7O0FBQ0E7Ozs7QUFFQSxNQUFNQSxtQkFBbUIsR0FBSUMsR0FBRCxJQUFTO0FBQ25DLFFBQU1DLEtBQUssR0FBR0QsR0FBRyxDQUFDRSxPQUFKLENBQVksb0JBQVosRUFBa0MsR0FBbEMsRUFBdUNDLEtBQXZDLENBQTZDLEdBQTdDLEVBQWtEQyxLQUFsRCxDQUF3RCxDQUF4RCxDQUFkO0FBQ0EsUUFBTUMsUUFBUSxHQUFHSixLQUFLLENBQUNLLE1BQU4sQ0FBYSxDQUFDQyxHQUFELEVBQU1DLElBQU4sS0FBZ0JELEdBQUcsS0FBSyxFQUFSLEdBQWMsR0FBRUMsSUFBSyxFQUFyQixHQUEwQixHQUFFRCxHQUFJLElBQUdDLElBQUssRUFBckUsRUFBeUUsRUFBekUsQ0FBakI7QUFDQSxTQUFRLEdBQUVILFFBQVMsT0FBbkI7QUFDRCxDQUpEOztBQU1BLE1BQU1JLElBQUksR0FBRyxDQUFDVCxHQUFELEVBQU1VLGtCQUFOLEtBQTZCO0FBQ3hDLFNBQU9DLGVBQU1DLEdBQU4sQ0FBVVosR0FBVixFQUNKYSxJQURJLENBQ0VDLFFBQUQsSUFBYztBQUNsQkMsaUJBQUdDLFNBQUgsQ0FBYyxHQUFFTixrQkFBbUIsSUFBR1gsbUJBQW1CLENBQUNDLEdBQUQsQ0FBTSxFQUEvRCxFQUFrRWMsUUFBUSxDQUFDRyxJQUEzRSxFQUFpRixPQUFqRjtBQUNELEdBSEksRUFJSkMsS0FKSSxDQUlHQyxLQUFELElBQVdDLE9BQU8sQ0FBQ0MsR0FBUixDQUFZRixLQUFaLENBSmIsQ0FBUDtBQUtELENBTkQ7O2VBT2VWLEkiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBwcm9taXNlcyBhcyBmcyB9IGZyb20gJ2ZzJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IGNyZWF0ZUZpbGVuYW1lQnlVcmwgPSAodXJsKSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gdXJsLnJlcGxhY2UoL1teQS1aYS160JAt0K/QsC3Rj9CB0ZFdL2csICctJykuc3BsaXQoJy0nKS5zbGljZSgzKTtcbiAgY29uc3QgZmlsZW5hbWUgPSBwYXJ0cy5yZWR1Y2UoKGFjYywgaXRlbSkgPT4gKGFjYyA9PT0gJycgPyBgJHtpdGVtfWAgOiBgJHthY2N9LSR7aXRlbX1gKSwgJycpO1xuICByZXR1cm4gYCR7ZmlsZW5hbWV9Lmh0bWxgO1xufTtcblxuY29uc3QgbG9hZCA9ICh1cmwsIGRlc3Rpb25hdGlvbkZvbGRlcikgPT4ge1xuICByZXR1cm4gYXhpb3MuZ2V0KHVybClcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGZzLndyaXRlRmlsZShgJHtkZXN0aW9uYXRpb25Gb2xkZXJ9LyR7Y3JlYXRlRmlsZW5hbWVCeVVybCh1cmwpfWAsIHJlc3BvbnNlLmRhdGEsICd1dGYtOCcpO1xuICAgIH0pXG4gICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5sb2coZXJyb3IpKTtcbn07XG5leHBvcnQgZGVmYXVsdCBsb2FkO1xuIl19