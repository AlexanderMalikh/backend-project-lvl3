"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _path = _interopRequireDefault(require("path"));

var _fs = require("fs");

var _axios = _interopRequireDefault(require("axios"));

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

const createFilenameByUrl = url => {
  const parts = url.replace(/[^A-Za-zА-Яа-яЁё0-9]/g, '-').split('-').slice(3);
  const filename = parts.reduce((acc, item) => acc === '' ? `${item}` : `${acc}-${item}`, '');
  return `${filename}.html`;
};

const load = (url, destionationFolder) => {
  return _axios.default.get(url).then(response => {
    _fs.promises.writeFile(_path.default.join(destionationFolder, createFilenameByUrl(url)), response.data);
  }).catch(error => console.log(error));
};

var _default = load;
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uL3NyYy9pbmRleC5qcyJdLCJuYW1lcyI6WyJjcmVhdGVGaWxlbmFtZUJ5VXJsIiwidXJsIiwicGFydHMiLCJyZXBsYWNlIiwic3BsaXQiLCJzbGljZSIsImZpbGVuYW1lIiwicmVkdWNlIiwiYWNjIiwiaXRlbSIsImxvYWQiLCJkZXN0aW9uYXRpb25Gb2xkZXIiLCJheGlvcyIsImdldCIsInRoZW4iLCJyZXNwb25zZSIsImZzIiwid3JpdGVGaWxlIiwicGF0aCIsImpvaW4iLCJkYXRhIiwiY2F0Y2giLCJlcnJvciIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFDQTs7QUFDQTs7QUFDQTs7OztBQUVBLE1BQU1BLG1CQUFtQixHQUFJQyxHQUFELElBQVM7QUFDbkMsUUFBTUMsS0FBSyxHQUFHRCxHQUFHLENBQUNFLE9BQUosQ0FBWSx1QkFBWixFQUFxQyxHQUFyQyxFQUEwQ0MsS0FBMUMsQ0FBZ0QsR0FBaEQsRUFBcURDLEtBQXJELENBQTJELENBQTNELENBQWQ7QUFDQSxRQUFNQyxRQUFRLEdBQUdKLEtBQUssQ0FBQ0ssTUFBTixDQUFhLENBQUNDLEdBQUQsRUFBTUMsSUFBTixLQUFnQkQsR0FBRyxLQUFLLEVBQVIsR0FBYyxHQUFFQyxJQUFLLEVBQXJCLEdBQTBCLEdBQUVELEdBQUksSUFBR0MsSUFBSyxFQUFyRSxFQUF5RSxFQUF6RSxDQUFqQjtBQUNBLFNBQVEsR0FBRUgsUUFBUyxPQUFuQjtBQUNELENBSkQ7O0FBTUEsTUFBTUksSUFBSSxHQUFHLENBQUNULEdBQUQsRUFBTVUsa0JBQU4sS0FBNkI7QUFDeEMsU0FBT0MsZUFBTUMsR0FBTixDQUFVWixHQUFWLEVBQ0phLElBREksQ0FDRUMsUUFBRCxJQUFjO0FBQ2xCQyxpQkFBR0MsU0FBSCxDQUFhQyxjQUFLQyxJQUFMLENBQVVSLGtCQUFWLEVBQThCWCxtQkFBbUIsQ0FBQ0MsR0FBRCxDQUFqRCxDQUFiLEVBQXNFYyxRQUFRLENBQUNLLElBQS9FO0FBQ0QsR0FISSxFQUlKQyxLQUpJLENBSUdDLEtBQUQsSUFBV0MsT0FBTyxDQUFDQyxHQUFSLENBQVlGLEtBQVosQ0FKYixDQUFQO0FBS0QsQ0FORDs7ZUFPZVosSSIsInNvdXJjZXNDb250ZW50IjpbIlxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBwcm9taXNlcyBhcyBmcyB9IGZyb20gJ2ZzJztcbmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5cbmNvbnN0IGNyZWF0ZUZpbGVuYW1lQnlVcmwgPSAodXJsKSA9PiB7XG4gIGNvbnN0IHBhcnRzID0gdXJsLnJlcGxhY2UoL1teQS1aYS160JAt0K/QsC3Rj9CB0ZEwLTldL2csICctJykuc3BsaXQoJy0nKS5zbGljZSgzKTtcbiAgY29uc3QgZmlsZW5hbWUgPSBwYXJ0cy5yZWR1Y2UoKGFjYywgaXRlbSkgPT4gKGFjYyA9PT0gJycgPyBgJHtpdGVtfWAgOiBgJHthY2N9LSR7aXRlbX1gKSwgJycpO1xuICByZXR1cm4gYCR7ZmlsZW5hbWV9Lmh0bWxgO1xufTtcblxuY29uc3QgbG9hZCA9ICh1cmwsIGRlc3Rpb25hdGlvbkZvbGRlcikgPT4ge1xuICByZXR1cm4gYXhpb3MuZ2V0KHVybClcbiAgICAudGhlbigocmVzcG9uc2UpID0+IHtcbiAgICAgIGZzLndyaXRlRmlsZShwYXRoLmpvaW4oZGVzdGlvbmF0aW9uRm9sZGVyLCBjcmVhdGVGaWxlbmFtZUJ5VXJsKHVybCkpLCByZXNwb25zZS5kYXRhKTtcbiAgICB9KVxuICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUubG9nKGVycm9yKSk7XG59O1xuZXhwb3J0IGRlZmF1bHQgbG9hZDtcbiJdfQ==